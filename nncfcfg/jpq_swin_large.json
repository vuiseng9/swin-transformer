{
  "input_info": {
    "sample_size": [1, 3, 224, 224]
  },
  "compression":
  [
    {
      "algorithm": "movement_sparsity",
      "params": {
        "schedule": "threshold_polynomial_decay",
        "power": 3,
        "init_importance_threshold": -0.1,
        "final_importance_threshold": 0.0,
        "warmup_start_epoch": 10,
        "warmup_end_epoch": 30,
        "steps_per_epoch": 5004,
        "importance_regularization_factor": 0.015,
        "update_per_optimizer_step": true,
      },
      "sparse_structure_by_scopes": [
          ["block", [16, 16], "{re}.*WindowAttention.*"],
          ["per_dim", [0], "{re}.*fc1.*"],
          ["per_dim", [1], "{re}.*fc2.*"]
      ],
    },
    {
      "algorithm": "quantization",
      "overflow_fix": "disable",
      "initializer": {
        "range": {
          "num_init_samples": 32,
          "type": "percentile",
          "params":
            {
              "min_percentile": 0.01,
              "max_percentile": 99.99
            }
        },
        "batchnorm_adaptation": {
          // "num_bn_adaptation_samples": 2
          "num_bn_adaptation_samples": 200
        }
      },
      "activations":
      {
        "mode": "symmetric"
      },
      "weights":
      {
        "mode": "symmetric",
        "signed": true,
        "per_channel": false
      },
    },
  ],
  "ignored_scopes": ["{re}.*PatchEmbed.*", "{re}.*PatchMerging.*", "{re}.*unbind.*", "{re}.*head.*"],
}